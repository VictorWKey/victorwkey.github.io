---
import ProjectCard from './ProjectCard.astro'
import ProjectImageModal from './ProjectImageModal.astro'
import JavaScript from "../icons/JavaScript.jsx";
import HTML from "../icons/HTML.jsx";
import CSS from "../icons/CSS.jsx";
import ReactLogo from "../icons/ReactLogo.jsx";
import AstroLogo from "../icons/AstroLogo.jsx";
import Tailwind from "../icons/Tailwind.jsx";
import TypeScript from "../icons/TypeScript.jsx";
import Python from "../icons/Python.jsx";
import Tensorflow from "../icons/Tensorflow.jsx";
import FastAPI from "../icons/FastAPI.jsx";
import AWS from "../icons/AWS.jsx";
import MongoDB from "../icons/MongoDB.jsx";
import PostgreSQL from "../icons/PostgreSQL.jsx";
import NextJS from "../icons/NextJS.jsx";

const TAGS = {
  JavaScript: {
    name: "JavaScript",
    logo: JavaScript,
    category: "web"
  },
  HTML: {
    name: "HTML",
    logo: HTML,
    category: "web"
  },
  CSS: {
    name: "CSS",
    logo: CSS,
    category: "web"
  },
  React: {
    name: "React",
    logo: ReactLogo,
    category: "web"
  },
  Tailwind: {
    name: "Tailwind",
    logo: Tailwind,
    category: "web"
  },
  TypeScript: {
    name: "TypeScript",
    logo: TypeScript,
    category: "web"
  },
  Python: {
    name: "Python",
    logo: Python,
    category: "ai"
  },
  Astro: {
    name: "Astro",
    logo: AstroLogo,
    category: "web"
  },
  TensorFlow: {
    name: "TensorFlow",
    logo: Tensorflow,
    category: "ai"
  },
  FastAPI: {
    name: "FastAPI",
    logo: FastAPI,
    category: "backend"
  },
  AWS: {
    name: "AWS",
    logo: AWS,
    category: "cloud"
  },
  MongoDB: {
    name: "MongoDB",
    logo: MongoDB,
    category: "database"
  },
  PostgreSQL: {
    name: "PostgreSQL",
    logo: PostgreSQL,
    category: "database"
  },
  NextJS: {
    name: "Next.js",
    logo: NextJS,
    category: "web"
  }
}

const PROJECTS = [
  // Full-Stack Projects First
  {
    title: "AlineaDent - Dental Clinic Management System",
    desc: "Comprehensive dental clinic management system built with Next.js and Python/FastAPI. Manages patients, appointments, and dental treatments with visual calendar, integrated WhatsApp communication, AI conversation monitoring, and automatic report generation.",
    technologies: [TAGS.JavaScript, TAGS.HTML, TAGS.CSS, TAGS.NextJS, TAGS.Tailwind, TAGS.Python, TAGS.FastAPI, TAGS.PostgreSQL],
    img: "/img/alineadent-sistema.png",
    videoUrl: "https://drive.google.com/file/d/1z6yksLOkjBW50mauP8OHpfmqBcF_Z063/view?usp=sharing",
    category: "Full-Stack"
  },
  {
    title: "Work Orders Management System - Atta Montacargas",
    desc: "Mobile application for work order management developed with React Native and FastAPI. It includes user role management, work order creation and tracking, automatic PDF generation, a real-time metrics dashboard, and a complete status management system.",
    technologies: [TAGS.JavaScript, TAGS.HTML, TAGS.CSS, TAGS.React, TAGS.Python, TAGS.FastAPI],
    img: "/img/attamontacargas-sistema.png",
    images: [
      { src: "/img/attamontacargas-sistema-foto1.png", alt: "Panel de gestión de órdenes" },
      { src: "/img/attamontacargas-sistema-foto2.png", alt: "Generación de reportes PDF" }
    ],
    category: "Full-Stack"
  },
  // Frontend Projects Second
  {
    title: "Muscle Factory Gym Website",
    desc: "Informational gym website developed with Astro and React. Features service sections, supplement comparison tool with functional shopping cart, detailed product catalog, and comprehensive personal training information.",
    technologies: [TAGS.JavaScript, TAGS.HTML, TAGS.CSS, TAGS.Astro, TAGS.React, TAGS.Tailwind],
    img: "/img/musclefactory-website.png",
    site: "https://muscle-factory-website.vercel.app/",
    repository: "https://github.com/VictorWKey/muscle-factory-website",
    category: "Frontend"
  },
  {
    title: "E-Commerce Frontend",
    desc: "Modern e-commerce platform built with React and Tailwind CSS. Features interactive shopping cart, advanced filtering system, category navigation, detailed product views, and fully responsive design.",
    technologies: [TAGS.JavaScript, TAGS.HTML, TAGS.CSS, TAGS.React, TAGS.Tailwind],
    img: "/img/frontend-ecommerce.png",
    site: "https://shop-app-w-react.netlify.app/",
    repository: "https://github.com/VictorWKey/fronted-shop-react-app",
    category: "Frontend"
  }
]




---

<section id="projects" class="w-full flex flex-col items-center py-20 px-6 scroll-mt-16 bg-gray-50 dark:bg-gray-900">
  <div class="w-full max-w-5xl">
    <h2 class="section-heading text-3xl sm:text-4xl text-center mb-3 text-gray-900 dark:text-white">Experience & Featured Projects</h2>
    <p class="section-subheading text-center mb-10 text-gray-600 dark:text-gray-300">
      Web development projects and applications ranging from business management systems to 
      <span class="text-primary">e-commerce</span> and <span class="text-primary">informational websites</span>
    </p>
    
    <!-- Filter Buttons -->
    <div class="flex flex-wrap justify-center gap-2 mb-10">
      <button 
        class="filter-btn active px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200"
        data-filter="all"
      >
        All Projects
      </button>
      <button 
        class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200"
        data-filter="Frontend"
      >
        Frontend
      </button>
      <button 
        class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200"
        data-filter="Full-Stack"
      >
        Full-Stack
      </button>
    </div>
    
    <div id="projects-container" class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">
      {PROJECTS.map((project) => (
        <div class="project-item h-full" data-category={project.category}>
          <ProjectCard 
            title={project.title} 
            desc={project.desc} 
            technologies={project.technologies} 
            webSite={project.site} 
            repository={project.repository} 
            videoUrl={project.videoUrl}
            img={project.img}
            category={project.category}
            images={project.images}
          />
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Project Images Modal -->
<ProjectImageModal />

<style>
  .filter-btn {
    @apply text-gray-600 bg-gray-100 border border-transparent;
  }

  :global(.dark) .filter-btn {
    @apply text-gray-400 bg-gray-800 border-gray-700;
  }

  .filter-btn:hover {
    @apply text-gray-900 bg-gray-200;
  }

  :global(.dark) .filter-btn:hover {
    @apply text-white bg-gray-700;
  }

  .filter-btn.active {
    @apply text-white bg-primary border-primary;
  }

  :global(.dark) .filter-btn.active {
    @apply text-white bg-primary border-primary;
  }

  .project-item.hidden {
    display: none !important;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const projectItems = document.querySelectorAll('.project-item');
    
    // Filter functionality - Simplified
    filterButtons.forEach(button => {
      button.addEventListener('click', function(event) {
        const target = event.currentTarget as HTMLButtonElement;
        const filter = target.getAttribute('data-filter');
        
        // Update active button
        filterButtons.forEach(btn => btn.classList.remove('active'));
        target.classList.add('active');
        
        // Filter projects instantly
        projectItems.forEach(item => {
          const category = item.getAttribute('data-category');
          
          if (filter === 'all' || category === filter) {
            item.classList.remove('hidden');
          } else {
            item.classList.add('hidden');
          }
        });
      });
    });
  });
</script>